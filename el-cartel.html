<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>El Cartel</title>
</head>
<body>
<h1>El Cartel</h1>
Género: Thriller; Acción; Drama
<br>
Año: 2008
<br>
Reparto: Manolo Cardona, Karen Martínez, Robinson Díaz, Diego Cadavid, Julián Arango, Fernando Solórzano, Juliana Galvis, Paulina Gálvez, Héctor García
<br>
País de origen: Colombia
<br>
Temporadas: 1
<br>
Episodios: 57
<hr>
<h1>Sinopsis</h1>
La historia sigue la vida de varios personajes involucrados en el mundo del narcotráfico en Colombia.
La trama comienza con la historia de Martín González, un hombre que se une al cartel de drogas de su tío, Don Pablo Escobar. Martín comienza como un conductor de camión, pero pronto se ve envuelto en el mundo del narcotráfico y se convierte en un importante miembro del cartel. A medida que la historia avanza, Martín se enfrenta a diversos conflictos y desafíos, incluyendo rivalidades con otros carteles, traiciones internas y la lucha por el poder dentro del cartel.
La serie también sigue la vida de otros personajes, incluyendo a Pepe Cadena, un periodista que se dedica a investigar el mundo del narcotráfico; y a Óscar Cadena, el hermano de Pepe, quien trabaja como agente de la DEA y se encarga de perseguir a los narcotraficantes.
A lo largo de la trama, los personajes se ven envueltos en intensas situaciones de acción y drama, incluyendo secuestros, asesinatos y enfrentamientos violentos. "El Cartel" es una serie emocionante y realista que ofrece una mirada profunda al mundo del narcotráfico en Colombia y sus consecuencias para la sociedad y las personas involucradas en él.
<hr>
<div>
  <label for="chapter-list" accesskey="c">Selecciona el capítulo a reproducir:</label>
  <select id="chapter-list" aria-label="Lista de capítulos" accesskey="c"></select>

  <button id="play-pause" title="Reproducir (Alt+K)" aria-label="Reproducir">Reproducir</button>

  <p id="speak-text" onclick="speak(this.textContent);" accesskey="i"></p>
  <div id="alert" aria-live="assertive"></div>

  <button id="backward" title="Retroceder 10 segundos (Alt+J)" aria-label="Retroceder">Retroceder</button>
  <button id="forward" title="Avanzar 10 segundos (Alt+L)" aria-label="Avanzar">Avanzar</button>

  <button id="volume-up" title="Subir volumen (Alt+U)" aria-label="Subir volumen">Subir volumen</button>
  <button id="volume-down" title="Bajar volumen (Alt+O)" aria-label="Bajar volumen">Bajar volumen</button>

  <input type="checkbox" id="autoplay" aria-label="Reproducir automáticamente el siguiente capítulo" accesskey="s" checked>
</div>

<audio id="repro" src="" type="audio/mpeg"></audio>

<script>
  const audio = document.getElementById("repro");
  const chapterList = document.getElementById("chapter-list");
  const playPauseButton = document.getElementById("play-pause");
  const backwardButton = document.getElementById("backward");
  const forwardButton = document.getElementById("forward");
  const volumeUpButton = document.getElementById("volume-up");
  const volumeDownButton = document.getElementById("volume-down");
  const rootLink = "https://raw.githubusercontent.com/ivanack123/el-cartel/main/";

  const chapterValues = Array.from({ length: 57}, (_, i) => i + 1);
  let currentChapter = 1;

  function setChapter() {
    currentChapter = chapterList.value;
    audio.src = `${rootLink}${currentChapter}.m4a`;
    audio.load();
    audio.play();
  }

  function updatePlayPauseButton(title, ariaLabel) {
    playPauseButton.setAttribute("title", `${title} (Alt+K)`);
    playPauseButton.setAttribute("aria-label", ariaLabel);
    playPauseButton.textContent = title;
  }

  function playPause() {
    if (audio.paused) {
      audio.play();
      updatePlayPauseButton("Pausar", "Pausar");
    } else {
      audio.pause();
      updatePlayPauseButton("Reproducir", "Reproducir");
    }
  }

  function skip(direction) {
    audio.currentTime += (direction === "forward" ? 10 : -10);
    audio.currentTime = Math.min(Math.max(audio.currentTime, 0), audio.duration);
  }

  function handleMediaKeys(event) {
    const mediaKeysMap = {
      "MediaPlayPause": playPause,
      "MediaTrackPrevious": () => skip("backward"),
      "MediaTrackNext": () => skip("forward"),
      "VolumeUp": () => audio.volume += 0.1,
      "VolumeDown": () => audio.volume -= 0.1,
      "VolumeMute": () => audio.muted = !audio.muted
    };
    const mediaKeyFunction = mediaKeysMap[event.code];
    if (mediaKeyFunction) {
      event.preventDefault();
      mediaKeyFunction();
    }
  }

  function checkAutoplay() {
    if (autoplay.checked) {
      currentChapter = parseInt(chapterList.value) + 1;
      currentChapter = currentChapter > chapterList.options.length ? 1 : currentChapter;
      chapterList.value = currentChapter;
      setChapter();
    }
  }

  function setSpeakText() {
    const speakText = document.getElementById("speak-text");
    const currentTime = formatTime(audio.currentTime);
    const duration = formatTime(audio.duration);
    speakText.textContent = `${currentTime} de ${duration}`;
  }

  function formatTime(time) {
    const minutes = Math.floor(time / 60);
    const seconds = Math.floor(time % 60);
    return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
  }

  for (let chapter of chapterValues) {
    const option = document.createElement("option");
    option.text = `Capítulo ${chapter}`;
    option.value = chapter;
    chapterList.add(option);
  }

  chapterList.addEventListener("change", setChapter);
  setChapter();

  playPauseButton.addEventListener("click", playPause);
  backwardButton.addEventListener("click", () => skip("backward"));
  forwardButton.addEventListener("click", () => skip("forward"));
  volumeUpButton.addEventListener("click", () => audio.volume += 0.1);
  volumeDownButton.addEventListener("click", () => audio.volume -= 0.1);
  audio.addEventListener("ended", checkAutoplay);
  audio.addEventListener("timeupdate", setSpeakText);

  document.addEventListener("keydown", function(event) {
    const keyMap = {
      KeyK: playPause,
      KeyJ: () => skip("backward"),
      KeyL: () => skip("forward"),
      KeyO: () => audio.volume -= 0.1,
      KeyM: () => audio.muted = !audio.muted,
      KeyU: () => audio.volume += 0.1
    };
    const keyFunction = keyMap[event.code];
    if (keyFunction) {
      event.preventDefault();
      keyFunction();
    }
  });
</script>
</body>
</html>