<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Cañaveral de pasiones</title>
</head>
<body>
<h1>Cañaveral de pasiones</h1>
Género: Drama
<br>
Año: 1996
<br>
Reparto: Daniela Castro, Azela Robinson, Francisco Gattorno, Juan Soler, Angélica Aragón, Patricia Navidad, Aracely Arámbula
<br>
País de origen: México
<br>
Temporadas: 1
<br>
Episodios: 92
<hr>
<h1>Sinopsis</h1>
La historia se desarrolla en el pueblo de San Benito, cercano a la ciudad de Xalapa, en los bellos cañaverales del estado de Veracruz. En este lugar existen dos familias: los Montero, dueños de "La Aurora", uno de los ingenios azucareros más importantes de la región, y los Santos, dueños de extensos cañaverales. En el pasado, Fausto Santos y Amador Montero interrumpieron su amistad al rivalizar por el amor de Margarita Faberman, una bella mujer que llegó de Europa con su hermana menor Dinorah. Sin embargo, Margarita se enamoró de Fausto, se casó con él y procreó una hija llamada Julia. Por su parte, Amador se casó con Josefina Rosales, la hermana del párroco del pueblo, el Padre Refugio. Amador y Josefina tuvieron un hijo llamado Pablo. Sin embargo, Amador nunca amó a Josefina, una mujer amargada y neurótica. En el pasado le fue infiel con una mujer llamada Socorro, con quién procreó un hijo. Por intervención de Josefina, Socorro huyó del pueblo y entregó a su hijo al Padre Refugio. El niño se llama Juan de Dios.
Julia, Pablo y Juan de Dios son los mejores amigos, aunque Julia tiene preferencia por Pablo, quien rivaliza con Juan de Dios por las atenciones de Julia. Por su parte, Josefina siempre ha sentido celos de Margarita, a quien calumnia constantemente creyendo que Amador la engaña con ella. Pero la verdadera amante de Amador es Dinorah, la hermana de Margarita. La relación entre ambos llega a tal nivel que ambos planean huir juntos del pueblo. La noche en que ambos pensaban escapar, son descubiertos por Margarita. Ella encierra a Dinorah y parte a encontrarse con Amador para convencerlo de regresar con su familia. Por desgracia, una fuerte tormenta se desata en el pueblo. Amador y Margarita sufren un grave accidente cuando volvían a San Benito. Amador muere instantáneamente, pero Margarita sobrevive un poco más, a tiempo de decir unas palabras a la única testigo del accidente, Remedios, la curandera del pueblo. Pero además de Remedios, existen otras personas que conocen la verdad de la situación. Ellos son el padre Refugio (atado por el secreto de confesión) y Rufino Mendoza, empleado de confianza de Amador, un hombre vil y sin escrúpulos que se aprovecha de la situación para chantajear a Dinorah y conseguir sus favores, además de ganarse la confianza de Josefina y servirle como vehículo para cumplir con sus planes.
Tanto Fausto como Josefina creen que sus respectivos esposos los habían engañado. Esta mentira es sostenida por Dinorah, quien se aprovecha para expiar su culpa, enlodar la memoria de su hermana y ganarse el afecto de su cuñado Fausto, a quien ella siempre ha amado. Dinorah consigue que el despechado Fausto la tome como su esposa. Por su parte, Josefina se dedica a enlodar la memoria de Margarita y ensañarse con su hija Julia, a quien considera igual a su madre. Sabiendo el cariño existente entre su hijo Pablo y Julia, decide separarlos enviando a Pablo a la Ciudad de México con la familia Elizondo, unos parientes lejanos.
Diez años después, Julia se ha convertido en una bella mujer. Por desgracia, todo el pueblo habla mal de ella debido a las calumnias de Josefina. Por si fuera poco, su padre la desprecia al ver en ella la imagen de Margarita, mientras que tiene que soportar el odio de su tía Dinorah, quién además la culpa de la muerte de un hijo que supuestamente iba a tener de Fausto.
Una noche, Pablo regresa a San Benito luego de su larga ausencia. Pablo regresa al pueblo con la intención de comunicarle a su madre su futura boda con Gina Elizondo, una muchacha superficial e interesada. Sin embargo, el reencontrarse con su tierra natal y sus viejos amigos, provocan que Pablo se sienta ligado a su tierra, sobre todo después de reencontrarse con Julia y ver renacer los sentimientos que ambos albergaron desde niños.
Pero la historia de amor entre Julia y Pablo enfrenta muchos obstáculos. El primero es el odio existente entre sus respectivas familias, y el segundo, esa terrible mentira del pasado que envolvió a sus padres y que ambos tendrán que descubrir.
<hr>
<div>
  <label for="chapter-list" accesskey="c">Selecciona el capítulo a reproducir:</label>
  <select id="chapter-list" aria-label="Lista de capítulos" accesskey="c"></select>

  <button id="play-pause" title="Reproducir (Alt+K)" aria-label="Reproducir">Reproducir</button>

  <p id="speak-text" onclick="speak(this.textContent);" accesskey="i"></p>
  <div id="alert" aria-live="assertive"></div>

  <button id="backward" title="Retroceder 10 segundos (Alt+J)" aria-label="Retroceder">Retroceder</button>
  <button id="forward" title="Avanzar 10 segundos (Alt+L)" aria-label="Avanzar">Avanzar</button>

  <button id="volume-up" title="Subir volumen (Alt+U)" aria-label="Subir volumen">Subir volumen</button>
  <button id="volume-down" title="Bajar volumen (Alt+O)" aria-label="Bajar volumen">Bajar volumen</button>

  <input type="checkbox" id="autoplay" aria-label="Reproducir automáticamente el siguiente capítulo" accesskey="s" checked>
</div>

<audio id="repro" src="" type="audio/mpeg"></audio>

<script>
  const audio = document.getElementById("repro");
  const chapterList = document.getElementById("chapter-list");
  const playPauseButton = document.getElementById("play-pause");
  const backwardButton = document.getElementById("backward");
  const forwardButton = document.getElementById("forward");
  const volumeUpButton = document.getElementById("volume-up");
  const volumeDownButton = document.getElementById("volume-down");
  const rootLink = "https://raw.githubusercontent.com/ivanack123/ca-averal-de-pasiones/main/";

  const chapterValues = Array.from({ length: 92}, (_, i) => i + 1);
  let currentChapter = 1;

  function setChapter() {
    currentChapter = chapterList.value;
    audio.src = `${rootLink}${currentChapter}.m4a`;
    audio.load();
    audio.play();
  }

  function updatePlayPauseButton(title, ariaLabel) {
    playPauseButton.setAttribute("title", `${title} (Alt+K)`);
    playPauseButton.setAttribute("aria-label", ariaLabel);
    playPauseButton.textContent = title;
  }

  function playPause() {
    if (audio.paused) {
      audio.play();
      updatePlayPauseButton("Pausar", "Pausar");
    } else {
      audio.pause();
      updatePlayPauseButton("Reproducir", "Reproducir");
    }
  }

  function skip(direction) {
    audio.currentTime += (direction === "forward" ? 10 : -10);
    audio.currentTime = Math.min(Math.max(audio.currentTime, 0), audio.duration);
  }

  function handleMediaKeys(event) {
    const mediaKeysMap = {
      "MediaPlayPause": playPause,
      "MediaTrackPrevious": () => skip("backward"),
      "MediaTrackNext": () => skip("forward"),
      "VolumeUp": () => audio.volume += 0.1,
      "VolumeDown": () => audio.volume -= 0.1,
      "VolumeMute": () => audio.muted = !audio.muted
    };
    const mediaKeyFunction = mediaKeysMap[event.code];
    if (mediaKeyFunction) {
      event.preventDefault();
      mediaKeyFunction();
    }
  }

  function checkAutoplay() {
    if (autoplay.checked) {
      currentChapter = parseInt(chapterList.value) + 1;
      currentChapter = currentChapter > chapterList.options.length ? 1 : currentChapter;
      chapterList.value = currentChapter;
      setChapter();
    }
  }

  function setSpeakText() {
    const speakText = document.getElementById("speak-text");
    const currentTime = formatTime(audio.currentTime);
    const duration = formatTime(audio.duration);
    speakText.textContent = `${currentTime} de ${duration}`;
  }

  function formatTime(time) {
    const minutes = Math.floor(time / 60);
    const seconds = Math.floor(time % 60);
    return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
  }

  for (let chapter of chapterValues) {
    const option = document.createElement("option");
    option.text = `Capítulo ${chapter}`;
    option.value = chapter;
    chapterList.add(option);
  }

  chapterList.addEventListener("change", setChapter);
  setChapter();

  playPauseButton.addEventListener("click", playPause);
  backwardButton.addEventListener("click", () => skip("backward"));
  forwardButton.addEventListener("click", () => skip("forward"));
  volumeUpButton.addEventListener("click", () => audio.volume += 0.1);
  volumeDownButton.addEventListener("click", () => audio.volume -= 0.1);
  audio.addEventListener("ended", checkAutoplay);
  audio.addEventListener("timeupdate", setSpeakText);

  document.addEventListener("keydown", function(event) {
    const keyMap = {
      KeyK: playPause,
      KeyJ: () => skip("backward"),
      KeyL: () => skip("forward"),
      KeyO: () => audio.volume -= 0.1,
      KeyM: () => audio.muted = !audio.muted,
      KeyU: () => audio.volume += 0.1
    };
    const keyFunction = keyMap[event.code];
    if (keyFunction) {
      event.preventDefault();
      keyFunction();
    }
  });
</script>
</body>
</html>